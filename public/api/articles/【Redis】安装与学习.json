{"title":"redis","uid":"eb5f3adb17521be888d5fac1c7b84dc0","slug":"【Redis】安装与学习","date":"2022-10-13T07:54:00.000Z","updated":"2022-10-21T01:00:14.641Z","comments":true,"path":"api/articles/【Redis】安装与学习.json","keywords":null,"cover":[],"content":"<h1 id=\"Redis简介\"><a href=\"#Redis简介\" class=\"headerlink\" title=\"Redis简介\"></a>Redis简介</h1><p>Redis是基于内存进行数据查询的<br>Redis可用作数据库、缓存和消息中间件<br>NoSql，不仅仅是SQL，泛指非关系型数据库。NoSql数据库并不是取代关系型数据库，而是关系型数据库的补充。</p>\n<h2 id=\"应用场景\"><a href=\"#应用场景\" class=\"headerlink\" title=\"应用场景\"></a>应用场景</h2><ol>\n<li>缓存（秒杀业务）</li>\n<li>任务队列</li>\n<li>消息队列</li>\n<li>分布式锁</li>\n</ol>\n<h2 id=\"关系型数据库\"><a href=\"#关系型数据库\" class=\"headerlink\" title=\"关系型数据库\"></a>关系型数据库</h2><ol>\n<li>Mysql</li>\n<li>Oracle</li>\n<li>DB2</li>\n<li>SQLServer</li>\n</ol>\n<h2 id=\"非关系型数据库\"><a href=\"#非关系型数据库\" class=\"headerlink\" title=\"非关系型数据库\"></a>非关系型数据库</h2><ol>\n<li>Redis</li>\n<li>Mongo db</li>\n<li>MemCacched</li>\n</ol>\n<h1 id=\"Redis安装\"><a href=\"#Redis安装\" class=\"headerlink\" title=\"Redis安装\"></a>Redis安装</h1><p>镜像文件下载地址：<a href=\"https://download.redis.io/releases/\">https://download.redis.io/releases/</a></p>\n<ol>\n<li><p>将下载的redis.tar.gz文件上传至Linux目录下（例：/usr/addFile/targz）</p>\n</li>\n<li><p>解压redis.tar.gz文件（解压至/usr/addFile文件夹下）<br>:::info<br>tar -zxvf redis-4.0.0.tar.gz  -C /usr/addFile/<br>:::</p>\n</li>\n<li><p>安装Redis的依赖环境g6c,命令：yum install gcc-c+</p>\n</li>\n<li><p>进入/usr/addFile/redis-4.0.0,进行编译，命令：make</p>\n</li>\n<li><p>进入redis的src目录，进行安装，命令：make install</p>\n<h1 id=\"Redis服务启动与停止\"><a href=\"#Redis服务启动与停止\" class=\"headerlink\" title=\"Redis服务启动与停止\"></a>Redis服务启动与停止</h1><p>Linux中redis服务启动，可以使用redis-server（/usr/addFile/redis-4.0.0），默认端口为6379<br>Ctrl+C停止Redis服务</p>\n<h2 id=\"修改Redis运行模式\"><a href=\"#修改Redis运行模式\" class=\"headerlink\" title=\"修改Redis运行模式\"></a>修改Redis运行模式</h2></li>\n<li><p>进入redis-4.0.0文件下时 vim redis-conf文件查找dae （输入：/dae）</p>\n</li>\n<li><p>daemonize no 改为 daemonize yes 则运行模式为后台运行</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/25847601/1664498711764-cdc8e5dd-9916-4cd3-8196-a499d50763a6.png#clientId=u25e87111-eb16-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=516&id=u4e7324a0&margin=%5Bobject%20Object%5D&name=image.png&originHeight=645&originWidth=1159&originalType=binary&ratio=1&rotation=0&showTitle=false&size=67757&status=done&style=none&taskId=u97e97493-3b1d-4fec-a951-b5d5bbf634c&title=&width=927.2\" alt=\"image.png\"></p>\n<h2 id=\"修改Redis密码\"><a href=\"#修改Redis密码\" class=\"headerlink\" title=\"修改Redis密码\"></a>修改Redis密码</h2><ol>\n<li>进入redis-4.0.0文件下时 vim redis-conf文件查找password （输入：/password）</li>\n<li>将下图中#取出 修改fooabred为自定义密码</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/25847601/1664500114163-7ec1ecb3-8ce2-4d19-a7e7-9a5047eb41c4.png#clientId=u25e87111-eb16-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=516&id=u1b58df5c&margin=%5Bobject%20Object%5D&name=image.png&originHeight=645&originWidth=1159&originalType=binary&ratio=1&rotation=0&showTitle=false&size=57202&status=done&style=none&taskId=uacfc467a-0024-414c-89a6-cbc05022651&title=&width=927.2\" alt=\"image.png\"><br>密码配置成功后重启服务器</p>\n<ol>\n<li>启动时查看配置文件：./src/redis-server ./redis.conf</li>\n<li>查看redis进程：ps -f | grep redis</li>\n<li>本地连接Redis：./src/redis-cli -h localhost -p 6379</li>\n<li>查看不输入密码是否可以对Redis进行操作：keys *（橙色框中是不允许）</li>\n<li>则需输入密码登录Redis：auth 密码</li>\n<li>登录成功</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/25847601/1664501322020-1312e33d-e557-471d-829a-7b3a2ea3f25b.png#clientId=u25e87111-eb16-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=190&id=u5e262813&margin=%5Bobject%20Object%5D&name=image.png&originHeight=237&originWidth=1034&originalType=binary&ratio=1&rotation=0&showTitle=false&size=28432&status=done&style=none&taskId=u2f518cc5-6f99-465c-83c4-df46b3e285b&title=&width=827.2\" alt=\"image.png\"></p>\n<h2 id=\"修改Redis连接状态\"><a href=\"#修改Redis连接状态\" class=\"headerlink\" title=\"修改Redis连接状态\"></a>修改Redis连接状态</h2><p>Redis默认本地连接</p>\n<ol>\n<li>进入redis-4.0.0文件下时 vim redis-conf文件查找bind（输入：/bind）</li>\n<li>注释橙色框选中行（# bind 127.0.0.1）</li>\n</ol>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/25847601/1664501751303-7b5e20d2-4fa9-4f36-9dac-f88113eb471f.png#clientId=u25e87111-eb16-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=516&id=uef989933&margin=%5Bobject%20Object%5D&name=image.png&originHeight=645&originWidth=1159&originalType=binary&ratio=1&rotation=0&showTitle=false&size=56473&status=done&style=none&taskId=u21454d45-ece4-4cc8-81cf-3ee3a327c6c&title=&width=927.2\" alt=\"image.png\"></p>\n<h1 id=\"Redis数据类型\"><a href=\"#Redis数据类型\" class=\"headerlink\" title=\"Redis数据类型\"></a>Redis数据类型</h1><p><img src=\"https://cdn.nlark.com/yuque/0/2022/png/25847601/1664503603409-7486794b-a434-4b7b-80bf-a225a541f715.png#clientId=u25e87111-eb16-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=354&id=ud29f1d42&margin=%5Bobject%20Object%5D&name=image.png&originHeight=442&originWidth=882&originalType=binary&ratio=1&rotation=0&showTitle=false&size=154743&status=done&style=none&taskId=u74c6f0f8-3960-45c0-bd1d-283bcd38b5e&title=&width=705.6\" alt=\"image.png\"><br>中文教程网：<a href=\"https://www.redis.net.cn/tutorial/3505.html\">https://www.redis.net.cn/tutorial/3505.html</a></p>\n<h2 id=\"String（字符串）\"><a href=\"#String（字符串）\" class=\"headerlink\" title=\"String（字符串）\"></a>String（字符串）</h2><ol>\n<li>string是redis最基本的类型，你可以理解成与Memcached一模一样的类型，一个key对应一个value。</li>\n<li>string类型是二进制安全的。意思是redis的string可以包含任何数据。比如jpg图片或者序列化的对象 。</li>\n<li>string类型是Redis最基本的数据类型，一个键最大能存储512MB。<h3 id=\"理解\"><a href=\"#理解\" class=\"headerlink\" title=\"理解\"></a>理解</h3>一个键对应一个字符串，<br>一个地址存储一个数据<h3 id=\"实例\"><a href=\"#实例\" class=\"headerlink\" title=\"实例\"></a>实例</h3>:::info<br>redis 127.0.0.1:6379&gt; SET name “redis.net.cn”OK<br>redis 127.0.0.1:6379&gt; GET name”redis.net.cn”<br>:::<br>在以上实例中我们使用了 Redis 的 <strong>SET</strong> 和 <strong>GET</strong> 命令。键为 name，对应的值为redis.net.cn。</li>\n</ol>\n<p><strong>注意：</strong>一个键最大能存储512MB。</p>\n<hr>\n<h2 id=\"Hash（哈希）\"><a href=\"#Hash（哈希）\" class=\"headerlink\" title=\"Hash（哈希）\"></a>Hash（哈希）</h2><ol>\n<li>Redis hash 是一个键值对集合。</li>\n<li>Redis hash是一个string类型的field和value的映射表，hash特别适合用于存储对象。value值必须是基础类型</li>\n<li>相对于存储json序列化的字符串更加节省性能<h3 id=\"理解-1\"><a href=\"#理解-1\" class=\"headerlink\" title=\"理解\"></a>理解</h3>一个键对应一个集合，<br>集合中索引可存储多条个数据<h3 id=\"实例-1\"><a href=\"#实例-1\" class=\"headerlink\" title=\"实例\"></a>实例</h3>:::info<br>redis 127.0.0.1:6379&gt; HMSET user:1 username redis.net.cn password redis.net.cn points 200OK<br>redis 127.0.0.1:6379&gt; HGETALL user:1</li>\n</ol>\n<ol>\n<li>“username”</li>\n<li>“redis.net.cn”</li>\n<li>“password”</li>\n<li>“redis.net.cn”</li>\n<li>“points”</li>\n<li>“200”<br>redis 127.0.0.1:6379&gt;<br>:::<br>以上实例中 hash 数据类型存储了包含用户脚本信息的用户对象。 实例中我们使用了 Redis <strong>HMSET, HEGTALL</strong> 命令，<strong>user:1</strong> 为键值。<br>每个 hash 可以存储 232 - 1 键值对（40多亿）。</li>\n</ol>\n<hr>\n<h2 id=\"List（列表）\"><a href=\"#List（列表）\" class=\"headerlink\" title=\"List（列表）\"></a>List（列表）</h2><p>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素导列表的头部（左边）或者尾部（右边）。</p>\n<h3 id=\"理解-2\"><a href=\"#理解-2\" class=\"headerlink\" title=\"理解\"></a>理解</h3><p>呈现状态为列表状，数据不可通过标识或索引对数据进行获取，<br>只能通过列表名查询范围内的多条数据</p>\n<h3 id=\"实例-2\"><a href=\"#实例-2\" class=\"headerlink\" title=\"实例\"></a>实例</h3><p>:::info<br>redis 127.0.0.1:6379&gt; lpush redis.net.cn redis(integer) 1<br>redis 127.0.0.1:6379&gt; lpush redis.net.cn mongodb(integer) 2<br>redis 127.0.0.1:6379&gt; lpush redis.net.cn rabitmq(integer) 3<br>// 查询数据范围 0 -10 条<br>redis 127.0.0.1:6379&gt; lrange redis.net.cn 0 10</p>\n<ol>\n<li>“rabitmq”</li>\n<li>“mongodb”</li>\n<li>“redis”<br>redis 127.0.0.1:6379&gt;<br>:::<br>列表最多可存储 232 - 1 元素 (4294967295, 每个列表可存储40多亿)。</li>\n</ol>\n<hr>\n<h2 id=\"Set（集合）\"><a href=\"#Set（集合）\" class=\"headerlink\" title=\"Set（集合）\"></a>Set（集合）</h2><p>Redis的Set是string类型的无序集合。<br>集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。</p>\n<h3 id=\"sadd-命令\"><a href=\"#sadd-命令\" class=\"headerlink\" title=\"sadd 命令\"></a>sadd 命令</h3><p>添加一个string元素到,key对应的set集合中，成功返回1,如果元素以及在集合中返回0,key对应的set不存在返回错误。<br>sadd key member</p>\n<h3 id=\"理解-3\"><a href=\"#理解-3\" class=\"headerlink\" title=\"理解\"></a>理解</h3><p>呈现状态为列表状，数据不可通过标识或索引对数据进行获取，<br>只能通过命名进行数据获取，而且在数据添加时不允许出现重复插入</p>\n<h3 id=\"实例-3\"><a href=\"#实例-3\" class=\"headerlink\" title=\"实例\"></a>实例</h3><p>:::info<br>redis 127.0.0.1:6379&gt; sadd redis.net.cn redis(integer) 1<br>redis 127.0.0.1:6379&gt; sadd redis.net.cn mongodb(integer) 1<br>redis 127.0.0.1:6379&gt; sadd redis.net.cn rabitmq(integer) 1<br>redis 127.0.0.1:6379&gt; sadd redis.net.cn rabitmq(integer) 0<br>redis 127.0.0.1:6379&gt; smembers redis.net.cn </p>\n<ol>\n<li>“rabitmq”</li>\n<li>“mongodb”</li>\n<li>“redis”<br>:::</li>\n</ol>\n<p><strong>注意：</strong>以上实例中 rabitmq 添加了两次，但根据集合内元素的唯一性，第二次插入的元素将被忽略。<br>集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</p>\n<hr>\n<h2 id=\"zset-sorted-set：有序集合\"><a href=\"#zset-sorted-set：有序集合\" class=\"headerlink\" title=\"zset(sorted set：有序集合)\"></a>zset(sorted set：有序集合)</h2><p>Redis zset 和 set 一样也是string类型元素的集合,且不允许重复的成员。<br>不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。<br>zset的成员是唯一的,但分数(score)却可以重复。</p>\n<h3 id=\"zadd-命令\"><a href=\"#zadd-命令\" class=\"headerlink\" title=\"zadd 命令\"></a>zadd 命令</h3><p>添加元素到集合，元素在集合中存在则更新对应score<br>zadd key score member </p>\n<h3 id=\"实例-4\"><a href=\"#实例-4\" class=\"headerlink\" title=\"实例\"></a>实例</h3><p>:::info<br>redis 127.0.0.1:6379&gt; zadd redis.net.cn 0 redis(integer) 1<br>redis 127.0.0.1:6379&gt; zadd redis.net.cn 0 mongodb(integer) 1<br>redis 127.0.0.1:6379&gt; zadd redis.net.cn 0 rabitmq(integer) 1<br>redis 127.0.0.1:6379&gt; zadd redis.net.cn 0 rabitmq(integer) 0<br>redis 127.0.0.1:6379&gt; ZRANGEBYSCORE redis.net.cn 0 1000 </p>\n<ol>\n<li>“redis”</li>\n<li>“mongodb”</li>\n<li>“rabitmq”<br>:::</li>\n</ol>\n","text":"Redis简介Redis是基于内存进行数据查询的Redis可用作数据库、缓存和消息中间件NoSql，不仅仅是SQL，泛指非关系型数据库。NoSql数据库并不是取代关系型数据库，而是关系型数据库的补充。 应用场景 缓存（秒杀业务） 任务队列 消息队列 分布式锁 关系型数据库 Mys...","link":"","photos":[],"count_time":{"symbolsCount":"3.7k","symbolsTime":"3 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Redis%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">Redis简介</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">应用场景</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">关系型数据库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93\"><span class=\"toc-text\">非关系型数据库</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Redis%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">Redis安装</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Redis%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2\"><span class=\"toc-text\">Redis服务启动与停止</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9Redis%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">修改Redis运行模式</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9Redis%E5%AF%86%E7%A0%81\"><span class=\"toc-text\">修改Redis密码</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9Redis%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81\"><span class=\"toc-text\">修改Redis连接状态</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Redis%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">Redis数据类型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#String%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89\"><span class=\"toc-text\">String（字符串）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%90%86%E8%A7%A3\"><span class=\"toc-text\">理解</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E4%BE%8B\"><span class=\"toc-text\">实例</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Hash%EF%BC%88%E5%93%88%E5%B8%8C%EF%BC%89\"><span class=\"toc-text\">Hash（哈希）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%90%86%E8%A7%A3-1\"><span class=\"toc-text\">理解</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E4%BE%8B-1\"><span class=\"toc-text\">实例</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#List%EF%BC%88%E5%88%97%E8%A1%A8%EF%BC%89\"><span class=\"toc-text\">List（列表）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%90%86%E8%A7%A3-2\"><span class=\"toc-text\">理解</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E4%BE%8B-2\"><span class=\"toc-text\">实例</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Set%EF%BC%88%E9%9B%86%E5%90%88%EF%BC%89\"><span class=\"toc-text\">Set（集合）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#sadd-%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">sadd 命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%90%86%E8%A7%A3-3\"><span class=\"toc-text\">理解</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E4%BE%8B-3\"><span class=\"toc-text\">实例</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#zset-sorted-set%EF%BC%9A%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88\"><span class=\"toc-text\">zset(sorted set：有序集合)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#zadd-%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">zadd 命令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%9E%E4%BE%8B-4\"><span class=\"toc-text\">实例</span></a></li></ol></li></ol></li></ol>","author":{"name":"Aurora","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{}}